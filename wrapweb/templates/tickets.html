{% extends "layout.html" %}

{% block head_extra %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/tickets.css') }}">
{% endblock %}

{% block body %}
<h1>Tickets</h1>
<div class="container">
  {% for t in tickets %}
    {% if t.type.value == "wrapdb_issue" %}
      {% set panel_style = "panel-danger" %}
    {% elif t.type.value == "pull_request" %}
      {% set panel_style = "panel-warning" %}
    {% elif t.type.value == "wrap_issue" %}
      {% set panel_style = "panel-info" %}
    {% else %}
      {% set panel_style = "panel-default" %}
    {% endif %}
    <div class="panel {{ panel_style }}">
      <div class="panel-heading">
        <a class="ticket-project" href="{{ t.project.url }}">{{ t.project.title }}</a>
        <a class="panel-title" href="{{ t.url }}">{{ t.title }}</a>
      </div>
      <div class="panel-body">
        Created at {{ t.created_at }}
        by <a href="{{ t.author.url }}">{{ t.author.title }}</a>
      </div>
    </div>
  {% endfor %}
</div>
{% endblock %}
